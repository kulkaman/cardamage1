<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Final</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
 <!--  <script src="./js/bootstrap.min"></script> -->
 
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
 <script src="damage.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="webcam.js"></script>
  <script type="text/javascript" src="signature_pad.min.js"></script>
  
  <script type="text/javascript" src="./app/js/qr/grid.js"></script>
<script type="text/javascript" src="./app/js/qr/version.js"></script>
<script type="text/javascript" src="./app/js/qr/detector.js"></script>
<script type="text/javascript" src="./app/js/qr/formatinf.js"></script>
<script type="text/javascript" src="./app/js/qr/errorlevel.js"></script>
<script type="text/javascript" src="./app/js/qr/bitmat.js"></script>
<script type="text/javascript" src="./app/js/qr/datablock.js"></script>
<script type="text/javascript" src="./app/js/qr/bmparser.js"></script>
<script type="text/javascript" src="./app/js/qr/datamask.js"></script>
<script type="text/javascript" src="./app/js/qr/rsdecoder.js"></script>
<script type="text/javascript" src="./app/js/qr/gf256poly.js"></script>
<script type="text/javascript" src="./app/js/qr/gf256.js"></script>
<script type="text/javascript" src="./app/js/qr/decoder.js"></script>
<script type="text/javascript" src="./app/js/qr/qrcode.js"></script>
<script type="text/javascript" src="./app/js/qr/findpat.js"></script>
<script type="text/javascript" src="./app/js/qr/alignpat.js"></script>
<script type="text/javascript" src="./app/js/qr/databr.js"></script>
  
    
</head>
<body>
  <app-root>Loading...</app-root><!-- <div id="my_camera"> </div><form>
		<input type=button value="Take Snapshot" onClick="take_snapshot()">
	</form>
	<div id="results">Your captured image will appear here...</div> -->
	
<script type="text/javascript" src="inline.bundle.js"></script><script type="text/javascript" src="polyfills.bundle.js"></script><script type="text/javascript" src="styles.bundle.js"></script><script type="text/javascript" src="vendor.bundle.js"></script><script type="text/javascript" src="main.bundle.js"></script></body>

	<script type="text/javascript">
var gCtx = null;
	var gCanvas = null;
	var imageData = null;
	var ii=0;
	var jj=0;
	var c=0;
	
	
function dragenter(e) {
  e.stopPropagation();
  e.preventDefault();
}
function dragover(e) {
  e.stopPropagation();
  e.preventDefault();
}
function drop(e) {
  e.stopPropagation();
  e.preventDefault();
  var dt = e.dataTransfer;
  var files = dt.files;
  handleFiles(files);
}
function handleFiles(f)
{
	var o=[];
	for(var i =0;i<f.length;i++)
	{
	  var reader = new FileReader();
      reader.onload = (function(theFile) {
        return function(e) {
          qrcode.decode(e.target.result);
        };
      })(f[i]);
      // Read in the image file as a data URL.
      reader.readAsDataURL(f[i]);	}
}
	
function read(a)
{
	alert(a);
}	
	
function load()
{
	initCanvas(640,480);
	qrcode.callback = read;
	qrcode.decode("meqrthumb.png");
}
function initCanvas(ww,hh)
	{
		gCanvas = document.getElementById("qr-canvas");
		gCanvas.addEventListener("dragenter", dragenter, false);  
		gCanvas.addEventListener("dragover", dragover, false);  
		gCanvas.addEventListener("drop", drop, false);
		var w = ww;
		var h = hh;
		gCanvas.style.width = w + "px";
		gCanvas.style.height = h + "px";
		gCanvas.width = w;
		gCanvas.height = h;
		gCtx = gCanvas.getContext("2d");
		gCtx.clearRect(0, 0, w, h);
		imageData = gCtx.getImageData( 0,0,320,240);
	}
	function passLine(stringPixels) { 
		//a = (intVal >> 24) & 0xff;
		var coll = stringPixels.split("-");
	
		for(var i=0;i<320;i++) { 
			var intVal = parseInt(coll[i]);
			r = (intVal >> 16) & 0xff;
			g = (intVal >> 8) & 0xff;
			b = (intVal ) & 0xff;
			imageData.data[c+0]=r;
			imageData.data[c+1]=g;
			imageData.data[c+2]=b;
			imageData.data[c+3]=255;
			c+=4;
		} 
		if(c>=320*240*4) { 
			c=0;
      			gCtx.putImageData(imageData, 0,0);
		} 
 	} 
        function captureToCanvas() {
		flash = document.getElementById("embedflash");
		flash.ccCapture();
		qrcode.decode();
        }
</script>
	
	
</html>
